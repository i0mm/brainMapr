<!DOCTYPE html>
<html>
<head>
	<script src="bower_components/webcomponentsjs/webcomponents.min.js"></script>
	<link rel="import" href="bower_components/core-scaffold/core-scaffold.html">
	<link rel="import" href="bower_components/core-item/core-item.html">
	<link rel="import" href="bower_components/paper-input/paper-input.html">
	<link rel="import" href="bower_components/paper-button/paper-button.html">
	<link rel="import" href="bower_components/paper-fab/paper-fab.html">
	<link rel="import" href="bower_components/paper-dialog/paper-action-dialog.html">
	<link rel="import" href="bower_components/pubnub-element/pubnub-element.html">
	<link rel="import" href="new-idea.html">
	
	<link rel="import" href="idea.html">

	<link rel="stylesheet" href="css/style.css">
	<link rel="stylesheet" href="css/font-awesome.min.css">
</head>
<body>
<body fullbleed unresolved>


	<template is="auto-binding">
		<!-- For Pubnub Backend -->
		<core-pubnub
			publish_key="pub-c-fccdc23d-8e64-4031-9f9e-64c275dc4b4b"
			subscribe_key="sub-c-67616358-2006-11e5-947a-02ee2ddab7fe"
			uuid="{{pubnubId}}">
			<core-pubnub-subscribe id="sub" channel="idea-channel-one" on-callback="{{subscribeCallback}}" on-error="{{error}}">
			    <core-pubnub-publish id="pub" channel="idea-channel-one" message="" on-error="{{error}}"></core-pubnub-publish>
				<core-pubnub-history id="history" channel="idea-channel-one" count="30" on-success="{{historyRetrieved}}" on-error="{{error}}"></core-pubnub-history>
		    </core-pubnub-subscribe>
		</core-pubnub>

		<core-scaffold>
			<!-- Drawer panel -->
			<core-header-panel navigation flex>
				<core-toolbar id="navheader" class="tall">
				</core-toolbar>
				
				<section layout vertical center id="infoList" style="margin:20px;">
					<div class="middle avatar {{color}}" style="background-image: url({{avatar}})"></div>
					<div class="bottom uuid">{{uuid}}</div>	
				</section>
				<section layout vertical id="toolsList">
					<core-item label="Produit avec :"></core-item>
					<template repeat="{{tool in tools}}">
						<core-item icon="{{tool.icon}}" label="{{tool.title}}"></core-item>
					</template>
				</section>
				
				
			</core-header-panel>

			<!-- App Title -->
			<div tool layout horizontal flex>
				<span flex>Brain Mapr</span>
				<!--<core-icon icon="account-circle"></core-icon>-->
				<span><!-- number of people online --></span> 
			</div>

			<!-- Main content -->
			<div flex>

				


			<new-idea id="newIdea" ideasubmit="{{publishMyIdea}}"></new-idea>



			<section layout horizontal fit id="ideas">
				<div wrap class="idea-grid" layout horizontal>
					<idea-mini layout vertical sujet="Mon idée est toujours superb!" avatar="{{authors[0]}}" color="{{colors[0]}}"></idea-mini>
					<idea-mini layout vertical sujet="Greek Greek Greek is Greek" avatar="{{authors[1]}}" color="{{colors[1]}}"></idea-mini>
					<idea-mini layout vertical sujet="Il faut acheter de la bière" avatar="{{authors[2]}}" color="{{colors[2]}}"></idea-mini>


			<new-idea id="newIdea" ideasubmit="{{publishMyIdea}}"></new-idea>

			<section layout horizontal fit id="ideas">
				<div wrap class="idea-grid">
					<template repeat="{{idea in ideaList}}">
						<idea-mini sujet="{{idea.title}}" avatar="{{idea.avatar}}" color="{{idea.color}}"></idea-mini>
					</template>
					<!--
					<idea-mini sujet="Mon idée est toujours superb!" avatar="{{authors[0]}}" color="{{colors[0]}}"></idea-mini>
					<idea-mini sujet="Greek Greek Greek is Greek" avatar="{{authors[1]}}" color="{{colors[1]}}"></idea-mini>
					<idea-mini sujet="Il faut acheter de la bière" avatar="{{authors[2]}}" color="{{colors[2]}}"></idea-mini>
					-->

				</div>
				
				<paper-fab icon="add" id="addIdeaFab" on-tap="{{addNewIdea}}"></paper-fab> 
				
			</section>
			
			</div>
			
				

		</core-scaffold>
	</template>
	

	<script src="js/app.js"></script>
</body>
</html>
